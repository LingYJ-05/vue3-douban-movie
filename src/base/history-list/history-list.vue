<template>
    <div class="history-list">
        <ul>
            <li :key="item" @click="selectItem(item)" class="history-item" v-for="item in searches">
                <span class="text">{{ item }}</span>
                <span class="close" @click.stop="deleteOne(item)">
                    <i class="icon-close">ğŸ—‘ï¸</i>
                </span>
            </li>
        </ul>
        <div class="no-history" v-show="!searches.length">è¿˜æ²¡æœ‰æœç´¢å†å² å¿«å»æœç´¢å§ :)</div>
    </div>
</template>

<script setup name="history-list">
import { ref } from 'vue'

// å®šä¹‰ emits äº‹ä»¶
const emit = defineEmits(['selected', 'delete'])

// å®šä¹‰ props æ¥æ”¶ searches
const props = defineProps({
    searches: {
        type: Array,
        default: () => []
    }
})

function selectItem(item) {
    emit('selected', item)
}

function deleteOne(item) {
    emit('delete', item)
}
</script>

<style scoped>
.history-list {
    padding: 10px 0;
    width: 100%; /* ç¡®ä¿ç»„ä»¶å æ»¡çˆ¶å®¹å™¨å®½åº¦ */
}

.history-list ul {
    list-style: none;
    margin: 0;
    padding: 0;
    width: 100%;
}

.history-item {
    display: flex;
    align-items: center;
    justify-content: space-between; /* ç¡®ä¿æ–‡æœ¬åœ¨å·¦ï¼Œå›¾æ ‡åœ¨å³ */
    padding: 8px 0;
    border-bottom: 1px solid #f0f0f0;
    width: 100%;
}

.text {
    flex: 1; /* æ–‡æœ¬éƒ¨åˆ†å æ®å‰©ä½™ç©ºé—´ */
    font-size: 16px;
    color: #666;
}

.close {
    cursor: pointer;
    padding: 0 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 30px; /* ç¡®ä¿å›¾æ ‡æœ‰è¶³å¤Ÿçš„ç©ºé—´ */
}

.icon-close {
    font-size: 16px;
    color: #42bd56;
    
}

.icon-close:hover {
    color: #e74c3c;
}

.no-history {
    height: 40px;
    line-height: 40px;
    font-size: 14px;
    text-align: center;
    color: #999;
    margin-top: 10px;
}
</style>