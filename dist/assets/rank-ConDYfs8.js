import{b as x,c as B,E,f as L,d as j,_ as I}from"./movie-components-CljETrP7.js";/* empty css                        */import{d as N,r as h,b as V,m as R,c as r,a as t,L as c,I as m,aA as T,R as n,J as p,Q as z,a6 as U,O as $,P as d,u as A,al as D,o as s}from"./vue-DrRnzbTh.js";import{u as F}from"./rank-e0nIagNn.js";import{L as J}from"./loadmore-BzfP15WC.js";import"./vendor-ngrFHoWO.js";import"./index-C7--y5oG.js";const M={class:"rank"},O={class:"control-section"},P={key:0,class:"rank-cards"},Q=["onClick"],q={class:"card-header"},G={class:"title"},H={class:"subtitle"},K={class:"card-image"},W={class:"image-slot"},X=N({__name:"rank",setup(Y){const u=T(),i=F(),_=h(!1),a=V(()=>i.getShowCards),v=h([{id:"top250",title:"豆瓣 Top250",subtitle:"8分以上的好电影",path:"/rank/top250",poster:"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p480747492.jpg"},{id:"weekly",title:"本周口碑榜",subtitle:"最新高分电影",path:"/rank/weekly",poster:"https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2867890123.jpg"},{id:"new-movie",title:"新片榜",subtitle:"最新上映电影",path:"/rank/new",poster:"https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2856789342.jpg"},{id:"us-box",title:"北美票房榜",subtitle:"票房最高排名",path:"/rank/us",poster:"https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2548771326.jpg"}]),g=()=>{i.updateShowCards(!a.value)},k=()=>u.push("/search"),f=e=>{u.push(e),i.updateShowCards(!1)},b=e=>e?`https://images.weserv.nl/?url=${e.replace(/^https?:\/\//,"").trim()}`:"";return R(async()=>{try{}catch(e){console.error("获取电影数据失败:",e)}finally{_.value=!0}}),(e,l)=>{const w=B,C=E,y=j,S=D("router-view");return s(),r("div",M,[t("div",{class:"go-search",onClick:k},[...l[0]||(l[0]=[t("div",{class:"logo"},[t("img",{src:x,width:"35",height:"35"})],-1),t("div",{class:"search-content"},[t("span",null,"电影/影人/标签")],-1)])]),t("div",O,[n(w,{type:"primary",size:"default",onClick:g,class:"toggle-btn"},{default:p(()=>[$(d(a.value?"隐藏卡片":"显示卡片"),1)]),_:1})]),a.value?(s(),r("div",P,[(s(!0),r(z,null,U(v.value,o=>(s(),r("div",{key:o.id,class:"rank-card",onClick:Z=>f(o.path)},[t("div",q,[t("h2",G,d(o.title),1),t("p",H,d(o.subtitle),1)]),t("div",K,[n(y,{src:b(o.poster),alt:o.title,fit:"cover",lazy:""},{error:p(()=>[t("div",W,[n(C,null,{default:p(()=>[n(A(L))]),_:1})])]),_:1},8,["src","alt"])])],8,Q))),128))])):c("",!0),!_.value&&a.value?(s(),m(J,{key:1,fullScreen:!1})):c("",!0),a.value?c("",!0):(s(),m(S,{key:2}))])}}}),it=I(X,[["__scopeId","data-v-d5ce1821"]]);export{it as default};
