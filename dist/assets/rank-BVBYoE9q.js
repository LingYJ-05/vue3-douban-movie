import{b as B,c as E,E as L,v as j,d as I,f as N,e as V,_ as R}from"./movie-components-CllDRBdv.js";/* empty css                        */import{d as T,r as g,b as z,m as D,c as n,a as t,L as p,I as u,aA as M,R as r,J as l,Q as U,a5 as $,O as A,M as F,u as d,P as _,al as J,o}from"./vue-DLtTsFAn.js";import{u as O}from"./rank-cNVG-rBi.js";import{L as P}from"./loadmore-lJsl4uJF.js";import"./vendor-B9ygI19o.js";import"./index-CokmRtHZ.js";const Q={class:"rank"},q={class:"control-section"},G={key:0,class:"rank-cards"},H=["onClick"],K={class:"card-header"},W={class:"title"},X={class:"subtitle"},Y={class:"card-image"},Z={class:"image-slot"},tt=T({__name:"rank",setup(et){const h=M(),i=O(),m=g(!1),s=z(()=>i.getShowCards),f=g([{id:"top250",title:"豆瓣 Top250",subtitle:"8分以上的好电影",path:"/rank/top250",poster:"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p480747492.jpg"},{id:"weekly",title:"本周口碑榜",subtitle:"最新高分电影",path:"/rank/weekly",poster:"https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2867890123.jpg"},{id:"new-movie",title:"新片榜",subtitle:"最新上映电影",path:"/rank/new",poster:"https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2856789342.jpg"},{id:"us-box",title:"北美票房榜",subtitle:"票房最高排名",path:"/rank/us",poster:"https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2548771326.jpg"}]),k=()=>{i.updateShowCards(!s.value)},b=()=>h.push("/search"),w=e=>{h.push(e),i.updateShowCards(!1)},C=e=>e?`https://images.weserv.nl/?url=${e.replace(/^https?:\/\//,"").trim()}`:"";return D(async()=>{try{}catch(e){console.error("获取电影数据失败:",e)}finally{m.value=!0}}),(e,c)=>{const v=L,y=E,S=V,x=J("router-view");return o(),n("div",Q,[t("div",{class:"go-search",onClick:b},[...c[0]||(c[0]=[t("div",{class:"logo"},[t("img",{src:B,width:"35",height:"35"})],-1),t("div",{class:"search-content"},[t("span",null,"电影/影人/标签")],-1)])]),t("div",q,[r(y,{type:"primary",size:"default",onClick:k,class:"toggle-btn"},{default:l(()=>[r(v,null,{default:l(()=>[(o(),u(F(s.value?d(j):d(I))))]),_:1}),A(" "+_(s.value?"隐藏卡片":"显示卡片"),1)]),_:1})]),s.value?(o(),n("div",G,[(o(!0),n(U,null,$(f.value,a=>(o(),n("div",{key:a.id,class:"rank-card",onClick:ot=>w(a.path)},[t("div",K,[t("h2",W,_(a.title),1),t("p",X,_(a.subtitle),1)]),t("div",Y,[r(S,{src:C(a.poster),alt:a.title,fit:"cover",lazy:""},{error:l(()=>[t("div",Z,[r(v,null,{default:l(()=>[r(d(N))]),_:1})])]),_:1},8,["src","alt"])])],8,H))),128))])):p("",!0),!m.value&&s.value?(o(),u(P,{key:1,fullScreen:!1})):p("",!0),s.value?p("",!0):(o(),u(x,{key:2}))])}}}),pt=R(tt,[["__scopeId","data-v-27d1aa5f"]]);export{pt as default};
