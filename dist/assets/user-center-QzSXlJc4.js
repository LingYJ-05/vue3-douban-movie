import{r as d,m as z,c as n,R as o,a as e,J as i,u as t,Q as b,a6 as w,I as j,P as u,aA as B,o as l}from"./vue-DrRnzbTh.js";import{_ as D,d as y,E as m,u as x,m as R,f as I,l as N,g as P,o as S,p as A}from"./movie-components-CljETrP7.js";import"./vendor-ngrFHoWO.js";const F={class:"user-center"},J={class:"user"},Q={class:"image-slot"},U={class:"switch-item"},q={class:"tab-content"},G={class:"content-header"},H={class:"movie-num"},K={key:0},W={key:0,class:"movie-list"},X=["onClick"],Y={class:"movie-poster"},Z={class:"image-slot"},O={class:"movie-info"},ee={class:"title"},te={class:"director"},se={key:1,class:"celebrity-list"},ae=["onClick"],oe={class:"celebrity-avatar"},ie={class:"image-slot"},le={class:"celebrity-info"},ne={class:"name"},re={class:"profession"},ce={__name:"user-center",setup(de){B();const g=d(0),k=d("0"),c={wantedMovies:[{id:"1",title:"肖申克的救赎",rating:{average:9.7},directors:[{name:"弗兰克·德拉邦特"}],images:{large:"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p480747492.jpg"}},{id:"2",title:"霸王别姬",rating:{average:9.6},directors:[{name:"陈凯歌"}],images:{large:"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p2561706776.jpg"}}],watchedMovies:[{id:"3",title:"阿甘正传",rating:{average:9.5},directors:[{name:"罗伯特·泽米吉斯"}],images:{large:"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p2372307693.jpg"}},{id:"4",title:"泰坦尼克号",rating:{average:9.4},directors:[{name:"詹姆斯·卡梅隆"}],images:{large:"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p2372307693.jpg"}}],collectedCelebrities:[{id:"1",name:"莱昂纳多·迪卡普里奥",professions:["演员","制片人"],avatars:{large:"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p2561706776.jpg"}},{id:"2",name:"汤姆·汉克斯",professions:["演员","导演"],avatars:{large:"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p2561706776.jpg"}}]},_=d([{name:"想看",count:0},{name:"看过",count:0},{name:"影人",count:0}]),p=d([]),h=d(0),L=s=>{switch(s){case 0:return c.wantedMovies;case 1:return c.watchedMovies;case 2:return c.collectedCelebrities;default:return[]}},T=s=>{const r=parseInt(s);g.value=r,C()},C=()=>{const s=L(g.value);p.value=s||[],h.value=p.value.length,_.value[0].count=c.wantedMovies.length,_.value[1].count=c.watchedMovies.length,_.value[2].count=c.collectedCelebrities.length},V=s=>{console.log("选择电影:",s)},$=s=>{console.log("选择影人:",s)},E=s=>!s||typeof s!="object"||!s.large?"":`https://images.weserv.nl/?url=${s.large.replace(/^https?:\/\//,"")}`;return z(()=>{C()}),(s,r)=>(l(),n("div",F,[o(t(R),{class:"user-info-card",shadow:"never"},{default:i(()=>[e("div",J,[o(t(y),{src:"./avatar.jpg",alt:"用户头像",class:"avatar",fit:"cover",lazy:""},{error:i(()=>[e("div",Q,[o(t(m),null,{default:i(()=>[o(t(x))]),_:1})])]),_:1}),r[1]||(r[1]=e("div",{class:"name"},"用户名",-1))])]),_:1}),e("div",U,[o(t(A),{modelValue:k.value,"onUpdate:modelValue":r[0]||(r[0]=v=>k.value=v),type:"card",onTabChange:T,class:"user-tabs"},{default:i(()=>[(l(!0),n(b,null,w(_.value,(v,M)=>(l(),j(t(S),{key:M,label:`${v.name} (${v.count})`,name:M.toString()},{default:i(()=>[e("div",q,[e("div",G,[e("span",H,"共 "+u(h.value)+" 项",1)]),h.value>0?(l(),n("div",K,[g.value!==2?(l(),n("div",W,[(l(!0),n(b,null,w(p.value,a=>(l(),n("div",{key:a.id,class:"movie-item",onClick:f=>V(a)},[e("div",Y,[o(t(y),{src:E(a.images),width:70,height:100,fit:"cover",lazy:""},{error:i(()=>[e("div",Z,[o(t(m),null,{default:i(()=>[o(t(I))]),_:1})])]),_:1},8,["src"])]),e("div",O,[e("h3",ee,u(a.title),1),o(t(N),{"model-value":a.rating.average/2,disabled:!0,"show-score":!0,max:5,size:"small"},null,8,["model-value"]),e("div",te," 导演："+u(a.directors&&a.directors[0]?a.directors[0].name:"未知"),1)])],8,X))),128))])):(l(),n("div",se,[(l(!0),n(b,null,w(p.value,a=>{var f;return l(),n("div",{key:a.id,class:"celebrity-item",onClick:ue=>$(a.id)},[e("div",oe,[o(t(y),{src:E(a.avatars),width:60,height:60,fit:"cover",lazy:""},{error:i(()=>[e("div",ie,[o(t(m),null,{default:i(()=>[o(t(x))]),_:1})])]),_:1},8,["src"])]),e("div",le,[e("h3",ne,u(a.name),1),e("p",re,u(((f=a.professions)==null?void 0:f.join(" / "))||"未知职业"),1)])],8,ae)}),128))]))])):(l(),j(t(P),{key:1,description:"暂无内容，敬请期待",class:"empty-state"},{default:i(()=>[o(t(m),{class:"empty-icon"},{default:i(()=>[o(t(I))]),_:1})]),_:1}))])]),_:1},8,["label","name"]))),128))]),_:1},8,["modelValue"])])]))}},me=D(ce,[["__scopeId","data-v-a6165094"]]);export{me as default};
